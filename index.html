<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curious Dares - Random Love Challenges</title>
    <style>
        :root {
            --primary-color: #e91e63;
            --secondary-color: #ff6090;
            --light-color: #ffcdd2;
            --dark-color: #c2185b;
            --text-color: #212121;
            --light-text: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #fff0f3;
            color: var(--text-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            background-color: var(--primary-color);
            color: var(--light-text);
            text-align: center;
            padding: 1.5rem 0;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .logo {
            font-size: 2.5rem;
            font-weight: bold;
            letter-spacing: 1px;
            margin-bottom: 0.5rem;
            font-family: 'Pacifico', cursive;
        }

        .tagline {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem 1rem;
            flex: 1;
        }

        .categories {
            background-color: white;
            padding: 1.5rem;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(233, 30, 99, 0.15);
            margin-bottom: 2rem;
        }

        .categories h2 {
            color: var(--dark-color);
            margin-bottom: 1rem;
            text-align: center;
        }

        .category-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            justify-content: center;
        }

        .category-item {
            display: flex;
            align-items: center;
            margin: 0.5rem;
            position: relative;
        }

        .category-checkbox {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }

        .category-label {
            background-color: var(--light-color);
            color: var(--dark-color);
            padding: 0.75rem 1.25rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            user-select: none;
            position: relative;
            z-index: 1;
        }

        .category-checkbox:checked + .category-label {
            background-color: var(--primary-color);
            color: white;
            box-shadow: 0 0 8px rgba(233, 30, 99, 0.5);
            transform: translateY(-2px);
        }

        .heart-icon {
            margin-right: 0.5rem;
            font-size: 1.2rem;
        }

        .wheel-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 2rem 0;
        }

        .wheel {
            position: relative;
            width: 300px;
            height: 300px;
            margin-bottom: 2rem;
        }

        .wheel-inner {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: relative;
            overflow: hidden;
            background: conic-gradient(
                var(--primary-color) 0% 25%, 
                var(--secondary-color) 25% 50%, 
                var(--dark-color) 50% 75%, 
                var(--light-color) 75% 100%
            );
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
            transition: transform 3s cubic-bezier(0.17, 0.67, 0.83, 0.67);
            transform: rotate(0deg);
        }

        .wheel-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50px;
            height: 50px;
            background-color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            color: var(--primary-color);
            z-index: 2;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
        }

        .wheel-marker {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 30px solid var(--dark-color);
            z-index: 3;
        }

        .generate-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 1rem 2rem;
            font-size: 1.2rem;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 1rem auto;
        }

        .generate-btn:hover {
            background-color: var(--dark-color);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .generate-btn i {
            margin-right: 0.5rem;
        }

        .challenge-container {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 4px 15px rgba(233, 30, 99, 0.15);
            margin-top: 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
            display: none;
        }

        .challenge-container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
        }

        .challenge-title {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 1.8rem;
        }

        .challenge-desc {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .challenge-category {
            display: inline-block;
            background-color: var(--light-color);
            color: var(--dark-color);
            padding: 0.3rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .btn-row {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .share-btn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 0.7rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .share-btn:hover {
            background-color: var(--dark-color);
        }

        .try-another-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 0.7rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .try-another-btn:hover {
            background-color: var(--dark-color);
        }

        /* Hide ad elements by default, just in case */
        .ad-container,
        .video-ad,
        .banner-ad {
            display: none !important;
        }

        footer {
            background-color: var(--dark-color);
            color: white;
            text-align: center;
            padding: 1.5rem;
            margin-top: auto;
        }

        .heart-icon-spin {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .falling-hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 100;
            display: none;
        }

        .heart {
            position: absolute;
            width: 20px;
            height: 20px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23e91e63"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>') no-repeat center center;
            animation: fall linear forwards;
        }

        @keyframes fall {
            0% {
                opacity: 0;
                transform: translateY(-100%) rotate(0deg);
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: translateY(100vh) rotate(360deg);
            }
        }

        /* Responsive styles */
        @media (max-width: 768px) {
            .wheel {
                width: 250px;
                height: 250px;
            }
            .logo {
                font-size: 2rem;
            }
            .category-grid {
                gap: 0.5rem;
            }
            .category-label {
                padding: 0.6rem 1rem;
                font-size: 0.9rem;
            }
        }
        @media (max-width: 480px) {
            .wheel {
                width: 200px;
                height: 200px;
            }
            .btn-row {
                flex-direction: column;
                gap: 0.7rem;
            }
            .challenge-title {
                font-size: 1.5rem;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
</head>
<body>
    <div class="falling-hearts" id="fallingHearts"></div>
    <header>
        <div class="logo">Curious Dares</div>
        <div class="tagline">Spice up your relationship with exciting challenges</div>
    </header>
    <div class="container">
        <div class="categories">
            <h2>Select Your Challenge Categories</h2>
            <div class="category-grid" id="categoryGrid"></div>
        </div>
        <div class="wheel-container">
            <div class="wheel">
                <div class="wheel-inner" id="wheelInner"></div>
                <div class="wheel-center"><i class="fas fa-heart"></i></div>
                <div class="wheel-marker"></div>
            </div>
            <button class="generate-btn" id="generateBtn">
                <i class="fas fa-dice"></i> Spin the Wheel
            </button>
        </div>
        <div class="challenge-container" id="challengeContainer">
            <span class="challenge-category" id="challengeCategory">Romantic</span>
            <h2 class="challenge-title" id="challengeTitle">Your Challenge</h2>
            <p class="challenge-desc" id="challengeDesc">Spin the wheel to get your first challenge!</p>
            <div class="btn-row">
                <button class="try-another-btn" id="tryAnotherBtn">
                    <i class="fas fa-sync-alt"></i> Try Another
                </button>
            </div>
        </div>
    </div>
    <footer>
        <p>&copy; 2025 Curious Dares. All rights reserved.</p>
    </footer>
    <script>
    // Category icons
    const icons = {
        'romantic': 'fas fa-heart',
        'roleplay': 'fas fa-masks-theater',
        'spicy': 'fas fa-pepper-hot'
    };

    // 50 family-friendly/light-flirty challenges for each category:
    const challengeData = {
        "romantic": [
            { "title": "Love Letter", "description": "Write a short love note and read it to your partner." },
            { "title": "Sunset Stroll", "description": "Take a relaxing sunset walk hand-in-hand." },
            { "title": "Chocolate Breakfast", "description": "Surprise your partner with a chocolate treat at breakfast." },
            { "title": "Serenade Night", "description": "Play a favorite song and slow dance together in the living room." },
            { "title": "Framed Memories", "description": "Find an old photo of the two of you and frame it together." },
            { "title": "Kiss Countdown", "description": "Give as many kisses as you can in one minute." },
            { "title": "Candlelit Dinner", "description": "Set the table for dinner with candles and soft music." },
            { "title": "DIY Spa", "description": "Take turns giving each other a relaxing hand massage." },
            { "title": "Favorite Things", "description": "Tell your partner one thing you absolutely love about them." },
            { "title": "Picnic Indoors", "description": "Set up a blanket picnic on the living room floor." },
            { "title": "Star Gazing", "description": "Step outside and count stars together." },
            { "title": "Love Playlist", "description": "Create a playlist of songs that remind you of your relationship." },
            { "title": "Breakfast in Bed", "description": "Serve your partner their favorite breakfast in bed." },
            { "title": "Surprise Compliments", "description": "Surprise your partner with an unexpected compliment." },
            { "title": "Dessert Date", "description": "Have dessert first tonight and feed each other bites." },
            { "title": "Photo Album", "description": "Make a small photo album of your favorite moments." },
            { "title": "Dinner by Candlelight", "description": "Have a full meal with only candles as light." },
            { "title": "Sweet Nickname", "description": "Give your partner a cute new nickname for the night." },
            { "title": "Favorite Movie Night", "description": "Watch a favorite movie under a shared blanket." },
            { "title": "Plant a Kiss", "description": "Find the silliest place to plant a kiss." },
            { "title": "Write a Poem", "description": "Write and recite a short poem to each other." },
            { "title": "First Date Rewind", "description": "Reenact your first date as closely as possible." },
            { "title": "Love Jar", "description": "Write three things you love about each other and keep them in a jar." },
            { "title": "Handwritten Note", "description": "Leave a surprise love note somewhere in the house." },
            { "title": "Surprise Hug", "description": "Surprise your partner with a random big hug—no explanation!" },
            { "title": "Compliment Chain", "description": "Take turns giving each other nice compliments for two minutes." },
            { "title": "Draw Together", "description": "Draw each other's portraits and compare them." },
            { "title": "Pet Name Game", "description": "Make up the silliest pet names for each other." },
            { "title": "Heartfelt Gifts", "description": "Make a tiny homemade gift for your partner (origami, drawing)." },
            { "title": "Favorite Scent", "description": "Describe your favorite scent about your partner." },
            { "title": "Synchronized Selfie", "description": "Attempt an Instagram-worthy couple selfie!" },
            { "title": "Future List", "description": "List five things you want to do together this year." },
            { "title": "Back-to-Back Drawing", "description": "Sit back-to-back and draw a heart at the same time." },
            { "title": "Cheeky Kiss", "description": "Plant a kiss on your partner's cheek, but not where they expect." },
            { "title": "Love Song Remix", "description": "Make up your own silly lyrics for a popular love song." },
            { "title": "Share a Dream", "description": "Share a dream or a wish for your future as a couple." },
            { "title": "Favorite Memory", "description": "Take turns describing your favorite shared memory." },
            { "title": "Wish Upon a Star", "description": "Go outside, spot a star, and make a wish together." },
            { "title": "Silly Selfie", "description": "Take a funny-face selfie together." },
            { "title": "Affection Countdown", "description": "Show 5 different ways of affection in 60 seconds." },
            { "title": "Heart Toast", "description": "Clink glasses and make a toast to your relationship." },
            { "title": "Cupcake Sharing", "description": "Share a cupcake (bonus: use only your mouths)." },
            { "title": "Hide & Find Notes", "description": "Hide a quick love note and let your partner find it." },
            { "title": "Finish My Sentence", "description": "Start a sentence and have your partner finish it, repeatedly!" },
            { "title": "Express Gratitude", "description": "Say thank you for something your partner does often." },
            { "title": "Good Morning Text", "description": "Send a good morning text even if you're in the same room." },
            { "title": "Phone Background", "description": "Change your phone backgrounds to a shared photo." },
            { "title": "Couple's High-Five", "description": "Invent a fun couple's handshake or high-five." }
        ],
        "roleplay": [
            { "title": "Accent Only", "description": "Speak in your favorite accent for the next 10 minutes." },
            { "title": "Secret Agents", "description": "Assign secret agent names and use them for the next hour." },
            { "title": "Movie Scene", "description": "Reenact a classic movie scene together." },
            { "title": "Reverse Roles", "description": "Pretend to be each other for ten minutes." },
            { "title": "Mystery Dinner", "description": "Dress up as strangers and introduce yourselves at dinner." },
            { "title": "Fortune Teller", "description": "Tell your partner's future in an over-the-top way." },
            { "title": "Silly Waiter", "description": "Serve your partner a small snack in a dramatic flair." },
            { "title": "Superhero Day", "description": "Give each other superhero names and outfits (capes, towels, etc)." },
            { "title": "Fake Interview", "description": "Do a fake interview with your partner about their life." },
            { "title": "Royal Audience", "description": "Speak to your partner as if they are royalty for five minutes." },
            { "title": "Breakfast Chef", "description": "Wear an apron (or improvised one) and act like a breakfast chef." },
            { "title": "Time Travelers", "description": "Pretend you've landed in a different decade." },
            { "title": "Pet Talk", "description": "Pretend your pet is royalty and you're its butler." },
            { "title": "Weather Report", "description": "Give a hilarious weather forecast for your living room." },
            { "title": "Fashion Judges", "description": "Critique each other's clothing runway-style." },
            { "title": "Famous Artist", "description": "Pretend your partner is a famous artist—ask for an autograph!" },
            { "title": "Comedians", "description": "Try to make each other laugh using only made-up character voices." },
            { "title": "Old Friends", "description": "Act as if you haven't seen each other in years and greet dramatically." },
            { "title": "Fairytale", "description": "Make up and act out a very short fairytale with both of you as leads." },
            { "title": "Haunted House", "description": "Pretend you just saw a friendly ghost in your home." },
            { "title": "Sports Commentator", "description": "Narrate your partner's next three actions like a sports event." },
            { "title": "Pirate Night", "description": "Speak like pirates for the next ten minutes." },
            { "title": "Alien Encounters", "description": "Pretend one of you is an alien learning about humans." },
            { "title": "Barista Bar", "description": "Act like a barista and serve up coffee/tea with a silly name." },
            { "title": "Detective Duo", "description": "Solve the mystery of the missing remote as detectives." },
            { "title": "Shakespearean", "description": "Speak to each other only in over-the-top Shakespearean language." },
            { "title": "News Anchor", "description": "Read a 'news bulletin' about something silly in your home." },
            { "title": "Talent Show", "description": "Host a two-person talent show and be judges for each other." },
            { "title": "Cooking Show", "description": "Narrate your meal prep as if you're on TV." },
            { "title": "Animal Impersonation", "description": "Imitate your favorite animal and guess what it is." },
            { "title": "Cartoon Voices", "description": "Talk to each other in cartoon voices for 5 minutes." },
            { "title": "Robots Only", "description": "Pretend to do chores as robots (sound effects included)." },
            { "title": "Magician's Assistant", "description": "Do a 'magic trick' for your partner with a fun reveal." },
            { "title": "Dream Job Day", "description": "Act like you have your dream job for five minutes." },
            { "title": "Game Show Host", "description": "One hosts, one competes; interview with silly questions." },
            { "title": "Space Mission", "description": "Pretend you're astronauts experiencing zero gravity (floating snacks encouraged!)." },
            { "title": "Soundtrack Life", "description": "Play music and overreact as if you're characters in a drama." },
            { "title": "Famous Chef", "description": "Narrate dinner as if you're a celebrity chef." },
            { "title": "Stand-Up Comedy", "description": "Tell your best (or worst) joke using a character voice." },
            { "title": "Friendly Rivals", "description": "Switch roles and playfully argue your favorite show or movie." },
            { "title": "Poet's Cafe", "description": "Read a poem to your partner in beatnik style." },
            { "title": "Wild West", "description": "Give each other Western nicknames and speak like cowboys." },
            { "title": "Contest Judges", "description": "Judge the next snack, drink, or outfit as if in a food/fashion contest." },
            { "title": "Game Master", "description": "Guide your partner through imaginary obstacles on the way to the kitchen." },
            { "title": "DJ Night", "description": "Introduce your next playlist song as a wild, over-the-top DJ." },
            { "title": "Mysterious Stranger", "description": "Pretend you don't know each other and introduce yourself with a twist." }
        ],
        "spicy": [
            { "title": "Flirty Compliments", "description": "Exchange playful compliments for two minutes." },
            { "title": "Whisper Challenge", "description": "Whisper something sweet to your partner." },
            { "title": "Guess the Object", "description": "Blindfolded, guess what fun object your partner is touching you with (keys, feather, toy, etc.)." },
            { "title": "Tickle Game", "description": "See how long your partner can withstand being gently tickled." },
            { "title": "Candy Kiss", "description": "Eat something sweet and share a playful kiss." },
            { "title": "Secret Word", "description": "Pick a random word. Every time it's said tonight, give your partner a peck." },
            { "title": "Blindfolded Hugs", "description": "Hug your partner while blindfolded and guess who it is (invite a pet or plush for a trick!)." },
            { "title": "Eye Contact", "description": "Maintain eye contact for one minute—first to laugh loses." },
            { "title": "Draw a Heart", "description": "Draw a heart on your partner's hand with your finger." },
            { "title": "Hold Hands", "description": "Hold hands for the next three minutes, no letting go." },
            { "title": "Sock Slide", "description": "Try to take each other's socks off using only your feet." },
            { "title": "Hidden Object", "description": "Hide a small object on your partner—let them find it only by touch." },
            { "title": "Balloon Pop", "description": "Pop a balloon between you using only your bodies." },
            { "title": "Mystery Drawing", "description": "Draw a shape on your partner's back with your finger—can they guess it?" },
            { "title": "Candy Hunt", "description": "Hide a small candy on yourself for your partner to find (hands, elbows, etc.)." },
            { "title": "Sweet Nothings", "description": "Secretly leave a fun note on your partner's pillow." },
            { "title": "Feather Touch", "description": "Use a feather or cotton ball to gently touch your partner's arm." },
            { "title": "Love Charades", "description": "Act out a famous romantic scene without words." },
            { "title": "Compliment Relay", "description": "Each give a compliment—first one who repeats loses." },
            { "title": "Guess the Flavor", "description": "Feed your partner a taste of something while their eyes are closed, let them guess what it is." },
            { "title": "Pinch of Spice", "description": "Add a 'spicy' ingredient to your snack and dare your partner to eat it." },
            { "title": "Hidden Kiss", "description": "Give your partner a kiss somewhere they've never been kissed (keep it creative and family-safe!)." },
            { "title": "Sock Puppet Flirt", "description": "Put socks on your hands and flirt through your sock puppets." },
            { "title": "Nose Eskimo", "description": "Give your partner an eskimo kiss (rub noses playfully)." },
            { "title": "Back to Back", "description": "Sit back to back for a conversation, no turning around until the timer ends." },
            { "title": "Lipstick Heart", "description": "Draw a small heart on your partner with lipstick (ask permission first)." },
            { "title": "Playful Hide & Seek", "description": "Quick two-minute game of hide and seek in your home." },
            { "title": "Traffic Light", "description": "Each time the traffic light changes (or a timer rings), swap seats and try a new way to say 'I like you'." },
            { "title": "Love Tap", "description": "Gently tap a rhythm on your partner's shoulders and have them guess the song." },
            { "title": "One-Liner Flirt", "description": "Give your cheesiest pickup line." },
            { "title": "Mimic Mirror", "description": "Mimic your partner's movements for thirty seconds." },
            { "title": "Compliment Chain", "description": "Chain as many compliments together as you can—who breaks first?" },
            { "title": "Elbow Hug", "description": "Only hug your partner with your elbows." },
            { "title": "Orange Chase", "description": "Move an orange across the floor—no hands allowed!" },
            { "title": "Envelope Dare", "description": "Write a tiny dare on paper, exchange and perform them." },
            { "title": "Freeze Dance", "description": "Dance together; when music stops, freeze for a silly photo." },
            { "title": "Twister Move", "description": "Invent your own 'twister' pose for both to try." },
            { "title": "Mirror Compliments", "description": "Stand facing a mirror; compliment yourselves and each other." },
            { "title": "Hand Kiss", "description": "Place a gentle kiss on the back of your partner's hand." },
            { "title": "Staring Contest", "description": "Have a staring contest—the winner gets a prize!" },
            { "title": "Doodle You", "description": "Draw your partner on a sticky note—stick it where they'll find it." },
            { "title": "Compliment Code", "description": "Make up a secret 'compliment code' (like a word means 'you look cute')." },
            { "title": "Sweet Surprise", "description": "Hide a sweet treat for your partner to find." },
            { "title": "Minute Massage", "description": "Give your partner a gentle one-minute neck massage." },
            { "title": "Fake Proposal", "description": "Stage a silly or overly-dramatic fake proposal." },
            { "title": "1-Minute Hug", "description": "Share a full minute-long hug—no words, just warmth." },
            { "title": "Warm Blanket", "description": "Wrap up together in a blanket and see how long you can last without giggling." }
        ]
    };

    // DOM logic as originally, with icon support:
    const categoryGrid = document.getElementById('categoryGrid');
    const generateBtn = document.getElementById('generateBtn');
    const wheelInner = document.getElementById('wheelInner');
    const challengeContainer = document.getElementById('challengeContainer');
    const challengeCategory = document.getElementById('challengeCategory');
    const challengeTitle = document.getElementById('challengeTitle');
    const challengeDesc = document.getElementById('challengeDesc');
    const tryAnotherBtn = document.getElementById('tryAnotherBtn');
    const fallingHearts = document.getElementById('fallingHearts');

    let challengeCount = 0;
    let isWheelSpinning = false;

    function populateCategories() {
        for (const category in challengeData) {
            const categoryItem = document.createElement('div');
            categoryItem.className = 'category-item';
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.id = `category-${category}`;
            checkbox.className = 'category-checkbox';
            checkbox.value = category;
            checkbox.checked = true;
            const label = document.createElement('label');
            label.htmlFor = `category-${category}`;
            label.className = 'category-label';
            label.innerHTML = `<i class="${icons[category] || 'fas fa-heart'} heart-icon"></i> ${category.charAt(0).toUpperCase() + category.slice(1)}`;
            categoryItem.appendChild(checkbox);
            categoryItem.appendChild(label);
            categoryGrid.appendChild(categoryItem);
        }
    }

    function getSelectedCategories() {
        const checkboxes = document.querySelectorAll('.category-checkbox:checked');
        return Array.from(checkboxes).map(cb => cb.value);
    }

    function getRandomChallenge() {
        const selectedCategories = getSelectedCategories();
        if (selectedCategories.length === 0) {
            alert('Please select at least one category!');
            return null;
        }
        const randomCategoryIndex = Math.floor(Math.random() * selectedCategories.length);
        const selectedCategory = selectedCategories[randomCategoryIndex];
        const challenges = challengeData[selectedCategory];
        const randomChallengeIndex = Math.floor(Math.random() * challenges.length);
        return {
            category: selectedCategory,
            ...challenges[randomChallengeIndex]
        };
    }

    function displayChallenge(challenge) {
        challengeCategory.textContent = challenge.category.charAt(0).toUpperCase() + challenge.category.slice(1);
        challengeTitle.textContent = challenge.title;
        challengeDesc.textContent = challenge.description;
        challengeContainer.style.display = 'block';
        createFallingHearts();
    }

    function createFallingHearts() {
        fallingHearts.innerHTML = '';
        fallingHearts.style.display = 'block';
        for (let i = 0; i < 30; i++) {
            const heart = document.createElement('div');
            heart.className = 'heart';
            const left = Math.random() * 100;
            const size = Math.random() * 15 + 10;
            const duration = Math.random() * 3 + 2;
            const delay = Math.random() * 3;
            heart.style.left = `${left}%`;
            heart.style.width = `${size}px`;
            heart.style.height = `${size}px`;
            heart.style.animationDuration = `${duration}s`;
            heart.style.animationDelay = `${delay}s`;
            fallingHearts.appendChild(heart);
        }
        setTimeout(() => { fallingHearts.style.display = 'none'; }, 6000);
    }

    function spinWheel() {
        if (isWheelSpinning) return;
        const selectedCategories = getSelectedCategories();
        if (selectedCategories.length === 0) {
            alert('Please select at least one category!');
            return;
        }
        isWheelSpinning = true;
        generateBtn.disabled = true;
        generateBtn.innerHTML = '<i class="fas fa-heart heart-icon-spin"></i> Spinning...';
        const rotations = 3 + Math.random() * 3;
        const degrees = rotations * 360 + Math.random() * 360;
        wheelInner.style.transform = `rotate(${degrees}deg)`;
        setTimeout(() => {
            challengeCount++;
            const challenge = getRandomChallenge();
            displayChallenge(challenge);
            isWheelSpinning = false;
            generateBtn.disabled = false;
            generateBtn.innerHTML = '<i class="fas fa-dice"></i> Spin the Wheel';
        }, 3000);
    }

    function init() {
        populateCategories();
        generateBtn.addEventListener('click', spinWheel);
        tryAnotherBtn.addEventListener('click', spinWheel);
    }

    document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
